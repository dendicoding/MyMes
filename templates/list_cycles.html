{% extends "base.html" %}

{% block title %}View Cycles{% endblock %}

{% block content %}
<h1>Cycles</h1>
<div class="page">
    <h2>Current Cycles</h2>

    <style>
        /* Stili per la tabella */
        .table {
            width: 100%;
            margin: 20px 0;
            border-collapse: collapse;
        }

        .table-wrapper {
            overflow-x: auto; /* Aggiungi uno scroll orizzontale se necessario */
        }

        /* Stili per le icone */
        .material-icons {
            font-size: 24px; /* Dimensione delle icone */
            vertical-align: middle;
            color: #333;
            margin-right: 15px; /* Spazio tra le icone */
            transition: color 0.3s;
        }

        .material-icons:hover {
            color: #007bff; /* Colore al passaggio del mouse */
        }

        /* Stili per i pulsanti */
        .btn-link {
            border: none;
            background: none;
            padding: 0;
            cursor: pointer;
        }

        /* Layout dei pulsanti */
        .action-buttons {
            display: flex;
            gap: 10px; /* Spazio tra i pulsanti */
        }
    </style>
    <div class="table-wrapper">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Cycle ID</th>
                    <th>Cycle Name</th>
                    <th>Description</th>
                    <th>Created Date</th>
                    <th>Estimated Duration</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for cycle in cycles %}
                    <tr class="{% if cycle['Status'] == 'pending' %}cycle-status-pending{% elif cycle['Status'] == 'in_progress' %}cycle-status-in-progress{% elif cycle['Status'] == 'completed' %}cycle-status-completed{% elif cycle['Status'] == 'suspended' %}cycle-status-suspended{% endif %}">
                        <td>{{ cycle['CycleID'] }}</td>
                        <td>{{ cycle['CycleName'] }}</td>
                        <td>{{ cycle['Description'] }}</td>
                        <td>{{ cycle['CreatedDate'] }}</td>
                        <td>{{ cycle['EstimatedDuration'] }}</td>
                        <td>{{ cycle['Status'] }}</td>
                        <td class="action-buttons">
                            <form action="{{ url_for('view_cycle', cycle_id=cycle['CycleID']) }}" method="GET" style="display:inline;">
                                <button type="submit" class="btn-link" title="View">
                                    <i class="material-icons">filter_list</i>
                                </button>
                            </form>
                            <form action="{{ url_for('edit_cycle', cycle_id=cycle['CycleID']) }}" method="GET" style="display:inline;">
                                <button type="submit" class="btn-link" title="Edit">
                                    <i class="material-icons">edit</i>
                                </button>
                            </form>
                            <form action="{{ url_for('delete_cycle', cycle_id=cycle['CycleID']) }}" method="POST" style="display:inline;">
                                <button type="submit" class="btn-link" title="Delete">
                                    <i class="material-icons">delete_forever</i>
                                </button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
